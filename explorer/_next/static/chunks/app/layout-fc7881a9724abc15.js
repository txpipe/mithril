(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{590:function(e,t,r){Promise.resolve().then(r.t.bind(r,594,23)),Promise.resolve().then(r.t.bind(r,9252,23)),Promise.resolve().then(r.t.bind(r,8173,23)),Promise.resolve().then(r.t.bind(r,231,23)),Promise.resolve().then(r.t.bind(r,6305,23)),Promise.resolve().then(r.t.bind(r,9498,23)),Promise.resolve().then(r.t.bind(r,8358,23)),Promise.resolve().then(r.bind(r,6017))},5025:function(e,t,r){"use strict";let{defaultAggregatorCapabilities:a}=r(9671);e.exports={fetchAggregatorCapabilities:function(e){return fetch(e).then(e=>200===e.status?e.json():{}).then(e=>{var t;return null!==(t=null==e?void 0:e.capabilities)&&void 0!==t?t:a}).catch(e=>(console.error("Fetch aggregator capabilities error:",e),a))},fetchSignersTickers:function(e){return fetch("".concat(e,"/signers/tickers")).then(e=>200===e.status?e.json():{}).catch(e=>{console.error("Fetch signers tickers error:",e)})},fetchEpochSettings:function(e){return fetch("".concat(e,"/epoch-settings")).then(e=>200===e.status?e.json():{}).catch(e=>{console.error("Fetch epoch settings error:",e)})},fetchRegistrations:function(e,t){return fetch("".concat(e,"/signers/registered/").concat(t)).then(e=>200===e.status?e.json():{}).catch(e=>{console.error("Fetch registrations error:",e)})}}},2143:function(e,t,r){"use strict";t.Z=["https://aggregator.release-mainnet.api.mithril.network/aggregator","https://aggregator.release-preprod.api.mithril.network/aggregator","https://aggregator.pre-release-preview.api.mithril.network/aggregator","https://aggregator.testing-preview.api.mithril.network/aggregator","https://aggregator.testing-sanchonet.api.mithril.network/aggregator","http://localhost:8080/aggregator"]},9671:function(e,t,r){"use strict";r.r(t),r.d(t,{aggregatorSearchParam:function(){return a},defaultAggregatorCapabilities:function(){return o},signedEntityType:function(){return n}});let a="aggregator",n={MithrilStakeDistribution:"MithrilStakeDistribution",CardanoStakeDistribution:"CardanoStakeDistribution",CardanoImmutableFilesFull:"CardanoImmutableFilesFull",CardanoTransactions:"CardanoTransactions"},o={signed_entity_types:[],cardano_transactions_prover:{max_hashes_allowed_by_request:100}}},8104:function(e,t,r){"use strict";r.d(t,{Q9:function(){return s},Ux:function(){return l},d1:function(){return u},pG:function(){return d},tC:function(){return g}});var a=r(6862),n=r(4042),o=r(5025),i=r.n(o);let l=(0,a.oM)({name:"pools",initialState:{list:[]},reducers:{},extraReducers:e=>e.addCase(s.fulfilled,(e,t)=>{if(t.payload.keep_cached_data)return;let r=c(e,t.payload.aggregator);r?(r.network=t.payload.network,r.pools=t.payload.pools,r.date=t.payload.date):e.list.push({aggregator:t.payload.aggregator,date:t.payload.date,network:t.payload.network,pools:t.payload.pools})})}),s=(0,a.hg)("pools/updateForAggregator",(e,t)=>{var r;let a=c(t.getState().pools,e),n=Date.now();return n-(null!==(r=null==a?void 0:a.date)&&void 0!==r?r:0)>216e5?i().fetchSignersTickers(e).then(t=>{var r;return{aggregator:e,date:n,network:t.network,pools:null!==(r=t.signers)&&void 0!==r?r:[]}}):{keep_cached_data:!0}}),c=(e,t)=>e.list.find(e=>e.aggregator===t),g=(0,n.P1)([e=>e.settings.selectedAggregator,e=>e.pools,(e,t)=>t],(e,t,r)=>{let a=c(t,e),n=null==a?void 0:a.pools.find(e=>e.party_id===r);return{network:null==a?void 0:a.network,...n}}),u=(0,n.P1)([e=>e.settings.selectedAggregator,e=>e.pools],(e,t)=>c(t,e)),d=(0,n.P1)([e=>e.settings.selectedAggregator,e=>e.pools],(e,t)=>{let r=c(t,e);return null==r?void 0:r.network});l.reducer},6017:function(e,t,r){"use strict";r.d(t,{Providers:function(){return h}});var a=r(7437),n=r(9671),o=r(6862),i=r(8104),l=r(954),s=r(2143),c=r(1960);let g="Explorer_State",u=e=>{var t;let r=(0,o.e)();return(0,l.QB)(r),(0,o.xC)({reducer:{settings:l.xj.reducer,pools:i.Ux.reducer},preloadedState:{...t=function(){if(localStorage){let e=localStorage.getItem(g);return e?JSON.parse(e):void 0}}(),settings:function(e,t){var r,a;let n,o=null!=e?e:l.E3,i=(r=o.availableAggregators,a=s.Z,n=r.filter(e=>!a.includes(e)),[...a,...n]);return t&&(0,c.checkUrl)(t)?(i.includes(t)||i.push(t),o={...o,selectedAggregator:t,availableAggregators:i,canRemoveSelected:!s.Z.includes(t)}):o={...o,availableAggregators:i},o}(null==t?void 0:t.settings,e)},middleware:e=>e().prepend(r.middleware)})};var d=r(1444),p=r(6463),f=r(2265);function h(e){let{children:t}=e,r=(0,p.useSearchParams)().get(n.aggregatorSearchParam),[o]=(0,f.useState)(u(r));return o.subscribe(()=>{var e;return e=o.getState(),void(localStorage&&localStorage.setItem(g,JSON.stringify(e)))}),(0,a.jsx)(d.zt,{store:o,children:t})}},954:function(e,t,r){"use strict";r.d(t,{E3:function(){return c},JV:function(){return d},OR:function(){return h},QB:function(){return u},VT:function(){return f},fc:function(){return _},k6:function(){return m},sU:function(){return b},uI:function(){return p},xj:function(){return g}});var a=r(6862),n=r(5025),o=r.n(n),i=r(2143),l=r(1960),s=r(9671);let c={autoUpdate:!0,updateInterval:1e4,selectedAggregator:i.Z[0],availableAggregators:i.Z,aggregatorCapabilities:s.defaultAggregatorCapabilities,canRemoveSelected:!1},g=(0,a.oM)({name:"settings",initialState:c,reducers:{setUpdateInterval:(e,t)=>{e.updateInterval=t.payload},toggleAutoUpdate:e=>{e.autoUpdate=!e.autoUpdate},selectAggregator:(e,t)=>{if(!(0,l.checkUrl)(t.payload))return e;let r=e.availableAggregators.includes(t.payload)?e.availableAggregators:[...e.availableAggregators,t.payload];return{...e,selectedAggregator:t.payload,availableAggregators:r,canRemoveSelected:!i.Z.includes(t.payload)}},removeSelectedAggregator:e=>i.Z.includes(e.selectedAggregator)?e:{...e,selectedAggregator:e.availableAggregators.at(0),availableAggregators:e.availableAggregators.filter(t=>t!==e.selectedAggregator),canRemoveSelected:!i.Z.includes(e.availableAggregators.at(0))},updateSelectedAggregatorCapabilities:(e,t)=>({...e,aggregatorCapabilities:t.payload})}}),u=e=>{e.startListening({actionCreator:f,effect:async(e,t)=>{let r=e.payload;if(r){let e=await o().fetchAggregatorCapabilities(r);t.dispatch(v(e))}}})},{setUpdateInterval:d,toggleAutoUpdate:p,selectAggregator:f,removeSelectedAggregator:h,updateSelectedAggregatorCapabilities:v}=g.actions,m=e=>e.settings.selectedAggregator,b=e=>{var t,r;return null!==(r=null===(t=e.settings)||void 0===t?void 0:t.aggregatorCapabilities)&&void 0!==r?r:s.defaultAggregatorCapabilities},_=e=>{var t,r,a;return null!==(a=null===(r=e.settings)||void 0===r?void 0:null===(t=r.aggregatorCapabilities)||void 0===t?void 0:t.signed_entity_types)&&void 0!==a?a:[]};g.reducer},1960:function(e){"use strict";let t=e=>e/1e6,r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e.toLocaleString(void 0,{maximumFractionDigits:t})};function a(e){let t;let r="cexplorer.io";switch(e){case"mainnet":t="https://".concat(r);break;case"preprod":t="https://preprod.".concat(r);break;case"preview":t="https://preview.".concat(r);break;case"sanchonet":t="https://sancho.".concat(r)}return t}function n(e){let t=e.match(/aggregator\.(.*?)\.api/);return t&&t[1]?t[1]:null}async function o(e){let t=n(e);return fetch("https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/".concat(t,"/genesis.vkey")).then(e=>e.text()).catch(e=>console.error("Error fetching genesis verification key:",e))}function i(e,t){let r=e.map(e=>e.party_id),a=t.map(e=>e.party_id);return{in:[...e.filter(e=>!a.includes(e.party_id))],out:[...t.filter(e=>!r.includes(e.party_id))]}}e.exports={checkUrl:function(e){try{return new URL(e),!0}catch(e){return!1}},formatStake:function(e){let a=t(e),n=[{suffix:"B",value:1e9},{suffix:"M",value:1e6},{suffix:"K",value:1e3},{suffix:"",value:1}].find(e=>Math.abs(a)>=e.value-.001);return n?"".concat(r(a/n.value)).concat(n.suffix,"₳"):"".concat(r(a),"₳")},toAda:t,formatCurrency:r,formatBytes:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";let r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(t<0?0:t))+" "+["Bytes","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"][r]},formatPartyId:function(e){return("string"==typeof e||e instanceof String)&&e.length>15?e.slice(0,10)+"…"+e.slice(-5):e},getCExplorerUrl:a,poolTickerCExplorerUrl:function(e,t){let r=a(e);return r?"".concat(r,"/pool/").concat(t):void 0},formatProcessDuration:function(e){let t=performance.now()-e,r=Math.floor(t/6e4),a=Math.floor(t%6e4/1e3);return r>0?"".concat(r," minutes and ").concat(a," seconds"):"".concat(a," seconds")},computeAggregatorNetworkFromUrl:n,fetchGenesisVerificationKey:o,computeInOutRegistrations:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];let n={},o=e.registrations;for(let{registered_at:e,registrations:t}of r){let r=e+1,a=i(o,t);(a.in.length>0||a.out.length>0)&&(n[r]={in:a.in,out:a.out}),o=t}return n},dedupInOutRegistrations:function(e){let t={},r=[],a=[];for(let[n,o]of Object.entries(e).reverse()){let e={in:o.in.filter(e=>!a.includes(e.party_id)),out:o.out.filter(e=>!r.includes(e.party_id))};a.push(...o.out.map(e=>e.party_id)),r.push(...o.in.map(e=>e.party_id)),(e.in.length>0||e.out.length>0)&&(t[n]=e)}return t},compareRegistrations:i}},9252:function(){},594:function(){},6305:function(){},9498:function(){},8358:function(e){e.exports={container:"explorer_container__e4y3J",main:"explorer_main__72BOO",footer:"explorer_footer__NDYaK",title:"explorer_title__4AQZM",code:"explorer_code__d9zj2",logo:"explorer_logo__qsx9l"}}},function(e){e.O(0,[610,51,703,62,231,971,23,744],function(){return e(e.s=590)}),_N_E=e.O()}]);