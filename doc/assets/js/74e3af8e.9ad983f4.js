"use strict";(self.webpackChunkmithril_doc=self.webpackChunkmithril_doc||[]).push([[4126,4277,5646],{6072:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>a});var i=r(74848),t=r(28453);const s={unlisted:!0,hide_title:!0,hide_table_of_contents:!0},l=void 0,o={id:"compiled-binaries",title:"compiled-binaries",description:"Each Release / Pre-Release distribution comes with pre compiled binaries ready to use or wrapped in a debian package",source:"@site/versioned_docs/version-maintained/compiled-binaries.md",sourceDirName:".",slug:"/compiled-binaries",permalink:"/doc/compiled-binaries",draft:!1,unlisted:!0,editUrl:"https://github.com/input-output-hk/mithril/edit/main/docs/website/root/compiled-binaries.md",tags:[],version:"maintained",frontMatter:{unlisted:!0,hide_title:!0,hide_table_of_contents:!0}},d={},a=[];function c(e){const n={code:"code",p:"p",strong:"strong",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Each Release / Pre-Release distribution comes with pre compiled binaries ready to use or wrapped in a debian package\nfor linux\xb9."}),"\n",(0,i.jsx)(n.p,{children:"You can download them from the Release / Pre-Release distribution page that depends on the Mithril Network you\nare targeting."}),"\n",(0,i.jsxs)(n.p,{children:["These links are available in the ",(0,i.jsx)(n.strong,{children:"Build From"})," column of the above ",(0,i.jsx)(n.strong,{children:"Mithril Networks"})," table."]}),"\n",(0,i.jsxs)(n.p,{children:["\xb9 The Linux binaries target ",(0,i.jsx)(n.code,{children:"glibc"}),", and have a minimum requirement of ",(0,i.jsx)(n.code,{children:"glibc 2.31"})," (compatible with ",(0,i.jsx)(n.code,{children:"Ubuntu 20.04"}),"\nor ",(0,i.jsx)(n.code,{children:"Debian Bullseye"}),")."]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},30440:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>p,frontMatter:()=>o,metadata:()=>a,toc:()=>h});var i=r(74848),t=r(28453),s=r(45340),l=r(6072);const o={sidebar_position:3},d="Run a Mithril signer as an SPO",a={id:"manual/getting-started/run-signer-node",title:"Run a Mithril signer as an SPO",description:"For more information about the Mithril protocol, see the section About Mithril.",source:"@site/versioned_docs/version-maintained/manual/getting-started/run-signer-node.md",sourceDirName:"manual/getting-started",slug:"/manual/getting-started/run-signer-node",permalink:"/doc/manual/getting-started/run-signer-node",draft:!1,unlisted:!1,editUrl:"https://github.com/input-output-hk/mithril/edit/main/docs/website/root/manual/getting-started/run-signer-node.md",tags:[],version:"maintained",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"docSideBar",previous:{title:"Bootstrap a Cardano node",permalink:"/doc/manual/getting-started/bootstrap-cardano-node"},next:{title:"Run a private Mithril network",permalink:"/doc/manual/getting-started/run-mithril-devnet"}},c={},h=[...s.toc,{value:"Mithril signer deployment model",id:"mithril-signer-deployment-model",level:2},{value:"Mithril keys certification",id:"mithril-keys-certification",level:2},{value:"Mithril signer footprint",id:"mithril-signer-footprint",level:2},{value:"Pre-requisites",id:"pre-requisites",level:2},{value:"Set up the Mithril signer node",id:"set-up-the-mithril-signer-node",level:2},{value:"Building your own executable",id:"building-your-own-executable",level:3},{value:"Download the source file",id:"download-the-source-file",level:4},{value:"Build the Mithril signer binary",id:"build-the-mithril-signer-binary",level:4},{value:"Download the pre-built binary",id:"download-the-pre-built-binary",level:3},...l.toc,{value:"Verifying the binary",id:"verifying-the-binary",level:3},{value:"Verify the version of the binary",id:"verify-the-version-of-the-binary",level:4},{value:"Verify the build",id:"verify-the-build",level:4},{value:"Installing the service",id:"installing-the-service",level:3},{value:"Move the executable",id:"move-the-executable",level:4},{value:"Set up the service",id:"set-up-the-service",level:4},{value:"Activate Prometheus endpoint",id:"activate-prometheus-endpoint",level:3},{value:"Rotating the KES keys",id:"rotating-the-kes-keys",level:3},{value:"Set up the Mithril relay node",id:"set-up-the-mithril-relay-node",level:2},{value:"Building Squid from source",id:"building-squid-from-source",level:3},{value:"Configuring the Squid proxy",id:"configuring-the-squid-proxy",level:3},{value:"Installing the service",id:"installing-the-service-1",level:3},{value:"Firewall configuration",id:"firewall-configuration",level:3},{value:"About the Cardano relay machine",id:"about-the-cardano-relay-machine",level:4},{value:"Verify the Mithril signer deployment",id:"verify-the-mithril-signer-deployment",level:2},{value:"Verify your signer is registered",id:"verify-your-signer-is-registered",level:3},{value:"Verify your signer contributes with individual signatures",id:"verify-your-signer-contributes-with-individual-signatures",level:3}];function u(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"run-a-mithril-signer-as-an-spo",children:"Run a Mithril signer as an SPO"}),"\n",(0,i.jsx)(n.admonition,{title:"Mithril networks",type:"note",children:(0,i.jsx)(s.default,{})}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["For more information about the ",(0,i.jsx)(n.strong,{children:"Mithril protocol"}),", see the section ",(0,i.jsx)(n.a,{href:"/doc/mithril/intro",children:"About Mithril"}),"."]})}),"\n",(0,i.jsx)(n.h2,{id:"mithril-signer-deployment-model",children:"Mithril signer deployment model"}),"\n",(0,i.jsxs)(n.admonition,{type:"info",children:[(0,i.jsxs)(n.p,{children:["In this guide, you will learn how to set up a ",(0,i.jsx)(n.strong,{children:"Mithril signer"})," within the stake pool operator (SPO) infrastructure both on Cardano ",(0,i.jsx)(n.code,{children:"mainnet"})," and ",(0,i.jsx)(n.code,{children:"testnet"})," environments:"]}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["On ",(0,i.jsx)(n.code,{children:"mainnet"}),", you ",(0,i.jsx)(n.strong,{children:"must"})," run the ",(0,i.jsx)(n.strong,{children:"production"})," deployment where the ",(0,i.jsx)(n.strong,{children:"Mithril signer"})," runs on the ",(0,i.jsx)(n.strong,{children:"Cardano block producer"})," machine and the ",(0,i.jsx)(n.strong,{children:"Mithril relay"})," runs on the ",(0,i.jsx)(n.strong,{children:"Cardano relay"})," machine. ",(0,i.jsx)(n.strong,{children:"Note"})," that you can run the ",(0,i.jsx)(n.strong,{children:"production"})," deployment on ",(0,i.jsx)(n.code,{children:"testnet"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["You can also run ",(0,i.jsx)(n.strong,{children:"naive"})," deployment, where the ",(0,i.jsx)(n.strong,{children:"Mithril signer"})," runs on the ",(0,i.jsx)(n.strong,{children:"Cardano relay"})," machine. This is possible in the testnet environment only, and does not require setting up a ",(0,i.jsx)(n.strong,{children:"Mithril relay"}),"."]}),"\n"]})]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"In the current setup, you don't need to install a Mithril aggregator."})}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.strong,{children:"production"})," deployment model is currently in the beta version."]})}),"\n",(0,i.jsxs)(n.p,{children:["Here is the schema of the ",(0,i.jsx)(n.strong,{children:"production"})," deployment on mainnet:\n",(0,i.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:r(9085).A+"",children:(0,i.jsx)(n.img,{alt:"Production Mithril Signer Deployment Model",src:r(1993).A+"",width:"2208",height:"452"})})]}),"\n",(0,i.jsxs)(n.p,{children:["and the schema of the ",(0,i.jsx)(n.strong,{children:"naive"})," deployment specifically for ",(0,i.jsx)(n.code,{children:"testnets"}),":\n",(0,i.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:r(35441).A+"",children:(0,i.jsx)(n.img,{alt:"Naive Mithril Signer Deployment Model",src:r(59517).A+"",width:"2209",height:"452"})})]}),"\n",(0,i.jsx)(n.admonition,{type:"danger",children:(0,i.jsxs)(n.p,{children:["On ",(0,i.jsx)(n.code,{children:"mainnet"}),", you must ",(0,i.jsx)(n.strong,{children:"never"})," copy the ",(0,i.jsx)(n.code,{children:"KES secret key"})," from the ",(0,i.jsx)(n.strong,{children:"Cardano block producer"})," machine!"]})}),"\n",(0,i.jsx)(n.h2,{id:"mithril-keys-certification",children:"Mithril keys certification"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.strong,{children:"Mithril signer"})," uses your Cardano ",(0,i.jsx)(n.code,{children:"operational certificate"})," and ",(0,i.jsx)(n.code,{children:"KES secret key"})," files which enable:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Automatic computation of the ",(0,i.jsx)(n.code,{children:"PoolId"})]}),"\n",(0,i.jsxs)(n.li,{children:["Verification of your ",(0,i.jsx)(n.code,{children:"PoolId"})," ownership and the associated stake used by the Mithril protocol"]}),"\n",(0,i.jsxs)(n.li,{children:["Verification of your Mithril ",(0,i.jsx)(n.code,{children:"signer secret key"})," ownership, which allows you to participate in the multi-signature process for certificate production on the Mithril network"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"mithril-signer-footprint",children:"Mithril signer footprint"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.strong,{children:"Mithril signer"})," has been designed to have the lowest footprint possible in terms of CPU, memory, disk i/o and storage.\nThus, there are no extra requirements on the recommended hardware than for running a Cardano stake pool, as detailed in this ",(0,i.jsx)(n.a,{href:"https://developers.cardano.org/docs/operate-a-stake-pool/hardware-requirements",children:"guide"}),"."]}),"\n",(0,i.jsxs)(n.admonition,{type:"info",children:[(0,i.jsxs)(n.p,{children:["Here are some figures about the Mithril signer node running on the ",(0,i.jsx)(n.code,{children:"mainnet"})," Cardano network:"]}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["It is ",(0,i.jsx)(n.strong,{children:"idle"})," most of the time at ",(0,i.jsx)(n.code,{children:"<50MB"})," memory usage and ",(0,i.jsx)(n.code,{children:"<1%"})," CPU."]}),"\n",(0,i.jsxs)(n.li,{children:["It sends to the aggregator a ",(0,i.jsx)(n.strong,{children:"new signature"})," roughly every ",(0,i.jsx)(n.code,{children:"4 hours"})," and a ",(0,i.jsx)(n.strong,{children:"new registration"})," every ",(0,i.jsx)(n.code,{children:"5 days"})," (",(0,i.jsx)(n.code,{children:"<1MB"})," per day)."]}),"\n",(0,i.jsxs)(n.li,{children:["When signing for the ",(0,i.jsx)(n.strong,{children:"first time"}),", the digest cache needs to be built with a spike of ",(0,i.jsx)(n.code,{children:"50-70%"})," CPU on one core for ",(0,i.jsx)(n.code,{children:"~1 hour"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Also, the full Cardano database will be ",(0,i.jsx)(n.strong,{children:"read from disk once"})," during this cache building process."]}),"\n",(0,i.jsxs)(n.li,{children:["Only ",(0,i.jsx)(n.strong,{children:"stake distributions"}),", ",(0,i.jsx)(n.strong,{children:"Mithril keys"})," and some ",(0,i.jsx)(n.strong,{children:"digest cache"})," are stored on the disk (",(0,i.jsx)(n.code,{children:"<100MB"}),")."]}),"\n"]})]}),"\n",(0,i.jsx)(n.h2,{id:"pre-requisites",children:"Pre-requisites"}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"Note that this guide works on a Linux machine only."})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["To operate a ",(0,i.jsx)(n.strong,{children:"Cardano node"})," as a ",(0,i.jsx)(n.strong,{children:"stake pool"}),", you need:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The pool's ",(0,i.jsx)(n.code,{children:"operational certificate"})]}),"\n",(0,i.jsxs)(n.li,{children:["The pool's ",(0,i.jsx)(n.code,{children:"KES secret key"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["To access the file system of the ",(0,i.jsx)(n.strong,{children:"Cardano block producer"})," node for ",(0,i.jsx)(n.strong,{children:"production"})," deployment (or of the ",(0,i.jsx)(n.strong,{children:"Cardano relay"})," node for ",(0,i.jsx)(n.strong,{children:"naive"})," deployment), you will need the following permissions:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Read rights on the ",(0,i.jsx)(n.code,{children:"Database"})," folder (specified by the ",(0,i.jsx)(n.code,{children:"--database-path"})," setting of the ",(0,i.jsx)(n.strong,{children:"Cardano node"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:["Read and write rights on the ",(0,i.jsx)(n.code,{children:"Inter Process Communication"})," file (typically defined by the ",(0,i.jsx)(n.code,{children:"CARDANO_NODE_SOCKET_PATH"})," environment variable used to launch the ",(0,i.jsx)(n.strong,{children:"Cardano node"}),")"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Install a recent version of ",(0,i.jsx)(n.a,{href:"https://github.com/IntersectMBO/cardano-node/releases/tag/8.9.1",children:(0,i.jsx)(n.code,{children:"cardano-cli"})})," (version 8.9.1+)."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Install a correctly configured Rust toolchain (latest stable version). You can follow the instructions provided ",(0,i.jsx)(n.a,{href:"https://www.rust-lang.org/learn/get-started",children:"here"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Install Build Tools ",(0,i.jsx)(n.code,{children:"build-essential"})," and ",(0,i.jsx)(n.code,{children:"m4"}),". For example, on Ubuntu/Debian/Mint, run ",(0,i.jsx)(n.code,{children:"sudo apt install build-essential m4"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Install OpenSSL development libraries. For example, on Ubuntu/Debian/Mint, run ",(0,i.jsx)(n.code,{children:"apt install libssl-dev"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Install a recent version of ",(0,i.jsx)(n.code,{children:"jq"})," (version 1.6+). You can install it by running ",(0,i.jsx)(n.code,{children:"apt install jq"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Only for the ",(0,i.jsx)(n.strong,{children:"production"})," deployment, install a recent version of ",(0,i.jsx)(n.a,{href:"http://www.squid-cache.org/",children:(0,i.jsx)(n.code,{children:"squid-cache"})})," (version 6.9+)."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"set-up-the-mithril-signer-node",children:"Set up the Mithril signer node"}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["For ",(0,i.jsx)(n.strong,{children:"production"})," deployment, the ",(0,i.jsx)(n.strong,{children:"Mithril signer"})," setup is performed on the ",(0,i.jsx)(n.strong,{children:"Cardano block producer"})," machine."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["For ",(0,i.jsx)(n.strong,{children:"naive"})," deployment, the ",(0,i.jsx)(n.strong,{children:"Mithril signer"})," setup is performed on the ",(0,i.jsx)(n.strong,{children:"Cardano relay"})," machine."]}),"\n"]}),"\n"]})}),"\n",(0,i.jsxs)(n.admonition,{type:"info",children:[(0,i.jsxs)(n.p,{children:["Compare the version of your Cardano node with the minimum supported versions listed in the ",(0,i.jsx)(n.a,{href:"https://github.com/input-output-hk/mithril/blob/main/networks.json",children:(0,i.jsx)(n.code,{children:"networks.json"})})," to verify its compatibility with the Mithril signer."]}),(0,i.jsx)(n.p,{children:"First, check the version of your Cardano node by running the following command:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cardano-node --version\n"})}),(0,i.jsxs)(n.p,{children:["Then, refer to the minimum supported versions listed in the the ",(0,i.jsx)(n.a,{href:"https://github.com/input-output-hk/mithril/blob/main/networks.json",children:(0,i.jsx)(n.code,{children:"networks.json"})})," file."]}),(0,i.jsx)(n.p,{children:"You can also fetch the minimum supported version for your network using the command below:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'wget -q -O - https://raw.githubusercontent.com/input-output-hk/mithril/main/networks.json | jq -r \'."**YOUR_CARDANO_NETWORK**"."cardano-minimum-version"."mithril-signer"\'\n'})}),(0,i.jsxs)(n.p,{children:["Here is an example for ",(0,i.jsx)(n.code,{children:"preprod"}),":"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'wget -q -O - https://raw.githubusercontent.com/input-output-hk/mithril/main/networks.json | jq -r \'."preprod"."cardano-minimum-version"."mithril-signer"\'\n'})})]}),"\n",(0,i.jsx)(n.h3,{id:"building-your-own-executable",children:"Building your own executable"}),"\n",(0,i.jsx)(n.h4,{id:"download-the-source-file",children:"Download the source file"}),"\n",(0,i.jsx)(n.p,{children:"To download the source from GitHub (HTTPS), run:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/input-output-hk/mithril.git\n"})}),"\n",(0,i.jsx)(n.p,{children:"Or (SSH):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"git clone git@github.com:input-output-hk/mithril.git\n"})}),"\n",(0,i.jsx)(n.h4,{id:"build-the-mithril-signer-binary",children:"Build the Mithril signer binary"}),"\n",(0,i.jsx)(n.p,{children:"First, switch to build a branch/tag:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# **YOUR_BUILD_BRANCH_OR_TAG** depends on the Mithril network you target,\n# please refer to the **Build from** column of the above **Mithril networks** table\ngit checkout **YOUR_BUILD_BRANCH_OR_TAG**\n"})}),"\n",(0,i.jsx)(n.p,{children:"Then, change the directory:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd mithril/mithril-signer\n"})}),"\n",(0,i.jsx)(n.p,{children:"Run tests (optional):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"make test\n"})}),"\n",(0,i.jsx)(n.p,{children:"Finally, build the executable:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"make build\n"})}),"\n",(0,i.jsx)(n.h3,{id:"download-the-pre-built-binary",children:"Download the pre-built binary"}),"\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsx)(n.h3,{id:"verifying-the-binary",children:"Verifying the binary"}),"\n",(0,i.jsx)(n.h4,{id:"verify-the-version-of-the-binary",children:"Verify the version of the binary"}),"\n",(0,i.jsx)(n.p,{children:"You can check that the Mithril signer binary is running the correct version by running:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./mithril-signer -V\n"})}),"\n",(0,i.jsx)(n.p,{children:"You should see something like:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"mithril-signer 0.2.0\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u26a0\ufe0f"," Please verify that the displayed version matches the version described in the release/pre-release notes (refer to the ",(0,i.jsx)(n.strong,{children:"Build from"})," column in the ",(0,i.jsx)(n.strong,{children:"Mithril networks"})," table above)."]}),"\n",(0,i.jsx)(n.h4,{id:"verify-the-build",children:"Verify the build"}),"\n",(0,i.jsx)(n.p,{children:"Check that the Mithril signer binary is working correctly by running the help function:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./mithril-signer -h\n"})}),"\n",(0,i.jsx)(n.p,{children:"You should see:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"An implementation of a Mithril signer\n\nUsage: mithril-signer [OPTIONS]\n\nOptions:\n  -r, --run-mode <RUN_MODE>\n          Run Mode [env: RUN_MODE=] [default: dev]\n  -v, --verbose...\n          Verbosity level, add more v to increase\n  -c, --configuration-dir <CONFIGURATION_DIR>\n          Directory where the configuration file is located [default: ./config]\n      --disable-digests-cache\n          Disable immutables digests cache\n      --reset-digests-cache\n          If set the existing immutables digests cache will be reset\n  -h, --help\n          Print help information (use `--help` for more detail)\n  -V, --version\n          Print version information\n"})}),"\n",(0,i.jsxs)(n.admonition,{type:"tip",children:[(0,i.jsx)(n.p,{children:"If you wish to delve deeper, you can access logs at various levels from the Mithril signer:"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Add ",(0,i.jsx)(n.code,{children:"-v"})," for some logs (WARN)"]}),"\n",(0,i.jsxs)(n.li,{children:["Add ",(0,i.jsx)(n.code,{children:"-vv"})," for more logs (INFO)"]}),"\n",(0,i.jsxs)(n.li,{children:["Add ",(0,i.jsx)(n.code,{children:"-vvv"})," for even more logs (DEBUG)"]}),"\n",(0,i.jsxs)(n.li,{children:["Add ",(0,i.jsx)(n.code,{children:"-vvvv"})," for all logs (TRACE)"]}),"\n"]})]}),"\n",(0,i.jsx)(n.h3,{id:"installing-the-service",children:"Installing the service"}),"\n",(0,i.jsx)(n.h4,{id:"move-the-executable",children:"Move the executable"}),"\n",(0,i.jsx)(n.p,{children:"To move the executable to /opt/mithril, run:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo mkdir -p /opt/mithril\nsudo mv mithril-signer /opt/mithril\n"})}),"\n",(0,i.jsx)(n.h4,{id:"set-up-the-service",children:"Set up the service"}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"User=cardano"}),":\nReplace this value with the correct user. We assume that the user used to run the ",(0,i.jsx)(n.strong,{children:"Cardano node"})," is ",(0,i.jsx)(n.code,{children:"cardano"}),". The ",(0,i.jsx)(n.strong,{children:"Mithril signer"})," must imperatively run with the same user."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["In the ",(0,i.jsx)(n.code,{children:"/opt/mithril/mithril-signer.env"})," env file:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"KES_SECRET_KEY_PATH=/cardano/keys/kes.skey"}),": replace ",(0,i.jsx)(n.code,{children:"/cardano/keys/kes.skey"})," with the path to your Cardano ",(0,i.jsx)(n.code,{children:"KES secret key"})," file"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"OPERATIONAL_CERTIFICATE_PATH=/cardano/cert/opcert.cert"}),": replace ",(0,i.jsx)(n.code,{children:"/cardano/cert/opcert.cert"})," with the path to your Cardano ",(0,i.jsx)(n.code,{children:"operational certificate"})," file"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"DB_DIRECTORY=/cardano/db"}),": replace ",(0,i.jsx)(n.code,{children:"/cardano/db"})," with the path to the database folder of the ",(0,i.jsx)(n.strong,{children:"Cardano node"})," (the one in ",(0,i.jsx)(n.code,{children:"--database-path"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"CARDANO_NODE_SOCKET_PATH=/cardano/ipc/node.socket"}),": replace with the path to the IPC file (",(0,i.jsx)(n.code,{children:"CARDANO_NODE_SOCKET_PATH"})," env var)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"CARDANO_CLI_PATH=/app/bin/cardano-cli"}),": replace with the path to the ",(0,i.jsx)(n.code,{children:"cardano-cli"})," executable"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"DATA_STORES_DIRECTORY=/opt/mithril/stores"}),": replace with the path to a folder where the ",(0,i.jsx)(n.strong,{children:"Mithril signer"})," will store its data (",(0,i.jsx)(n.code,{children:"/opt/mithril/stores"})," e.g.)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"STORE_RETENTION_LIMIT"}),": if set, this will limit the number of records in some internal stores (5 is a good fit)."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"ERA_READER_ADAPTER_TYPE=cardano-chain"}),": replace ",(0,i.jsx)(n.code,{children:"cardano-chain"})," with the era reader adapter type used in your Mithril network"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:'ERA_READER_ADAPTER_PARAMS={"address": "...", "verification_key": "..."}'}),": replace ",(0,i.jsx)(n.code,{children:'{"address": "...", "verification_key": "..."}'})," with the era reader parameters that you need to compute by running the command ",(0,i.jsx)(n.code,{children:'jq -nc --arg address $(wget -q -O - **YOUR_ERA_READER_ADDRESS**) --arg verification_key $(wget -q -O - **YOUR_ERA_READER_VERIFICATION_KEY**) \'{"address": $address, "verification_key": $verification_key}\''})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"RELAY_ENDPOINT=http://192.168.1.50:3132"})," ",(0,i.jsx)(n.strong,{children:"(optional)"}),": this is the endpoint of the ",(0,i.jsx)(n.strong,{children:"Mithril relay"}),", which is required for ",(0,i.jsx)(n.strong,{children:"production"})," deployment only. For ",(0,i.jsx)(n.strong,{children:"naive"})," deployment, do not set this variable in your environment file."]}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,i.jsxs)(n.admonition,{type:"tip",children:[(0,i.jsxs)(n.p,{children:["Here is an ",(0,i.jsx)(n.strong,{children:"example"})," set of values for ",(0,i.jsx)(n.strong,{children:"release-preprod"})," that will be used in this guide in the ",(0,i.jsx)(n.strong,{children:"tip"})," boxes to illustrate some commands:"]}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"YOUR_KES_SECRET_KEY_PATH"}),": ",(0,i.jsx)(n.code,{children:"/cardano/keys/kes.skey"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"YOUR_OPERATIONAL_CERTIFICATE_PATH"}),": ",(0,i.jsx)(n.code,{children:"/cardano/keys/node.cert"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"YOUR_CARDANO_NETWORK"}),": ",(0,i.jsx)(n.code,{children:"preprod"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"YOUR_AGGREGATOR_ENDPOINT"}),": ",(0,i.jsx)(n.code,{children:"https://aggregator.release-preprod.api.mithril.network/aggregator"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"YOUR_ERA_READER_ADAPTER_TYPE"}),": ",(0,i.jsx)(n.code,{children:"cardano-chain"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"YOUR_ERA_READER_ADAPTER_PARAMS"}),": ",(0,i.jsx)(n.code,{children:'{"address": "addr_test1qpkyv2ws0deszm67t840sdnruqgr492n80g3y96xw3p2ksk6suj5musy6w8lsg3yjd09cnpgctc2qh386rtxphxt248qr0npnx", "verification_key": "5b35352c3232382c3134342c38372c3133382c3133362c34382c382c31342c3138372c38352c3134382c39372c3233322c3235352c3232392c33382c3234342c3234372c3230342c3139382c31332c33312c3232322c32352c3136342c35322c3130322c39312c3132302c3230382c3134375d"}'})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"YOUR_RELAY_ENDPOINT"}),": ",(0,i.jsx)(n.code,{children:"192.168.1.50"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"YOUR_RELAY_LISTENING_PORT"}),": ",(0,i.jsx)(n.code,{children:"3132"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"YOUR_BLOCK_PRODUCER_INTERNAL_IP"}),": ",(0,i.jsx)(n.code,{children:"192.168.1.75"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"YOUR_SIGNER_LOGS_PATH"}),": ",(0,i.jsx)(n.code,{children:"/var/log/syslog"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"YOUR_PARTY_ID"}),": ",(0,i.jsx)(n.code,{children:"pool1hp72sauk0g0yqm4dzllz0pz6j93gewhllkzphn4hykkfmne43y"})]}),"\n"]})]}),"\n",(0,i.jsx)(n.p,{children:"First, create an environment file that will be used by the service:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["for ",(0,i.jsx)(n.strong,{children:"production"})," deployment:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo bash -c 'cat > /opt/mithril/mithril-signer.env << EOF\nKES_SECRET_KEY_PATH=**YOUR_KES_SECRET_KEY_PATH**\nOPERATIONAL_CERTIFICATE_PATH=**YOUR_OPERATIONAL_CERTIFICATE_PATH**\nNETWORK=**YOUR_CARDANO_NETWORK**\nAGGREGATOR_ENDPOINT=**YOUR_AGGREGATOR_ENDPOINT**\nRUN_INTERVAL=60000\nDB_DIRECTORY=/cardano/db\nCARDANO_NODE_SOCKET_PATH=/cardano/ipc/node.socket\nCARDANO_CLI_PATH=/app/bin/cardano-cli\nDATA_STORES_DIRECTORY=/opt/mithril/stores\nSTORE_RETENTION_LIMIT=5\nERA_READER_ADAPTER_TYPE=**YOUR_ERA_READER_ADAPTER_TYPE**\nERA_READER_ADAPTER_PARAMS=**YOUR_ERA_READER_ADAPTER_PARAMS**\nRELAY_ENDPOINT=**YOUR_RELAY_ENDPOINT**\nEOF'\n"})}),"\n",(0,i.jsxs)(n.admonition,{type:"tip",children:[(0,i.jsxs)(n.p,{children:["Here is an example of the aforementioned command created with the example set for ",(0,i.jsx)(n.code,{children:"release-preprod"}),":"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'sudo bash -c \'cat > /opt/mithril/mithril-signer.env << EOF\nKES_SECRET_KEY_PATH=/cardano/keys/kes.skey\nOPERATIONAL_CERTIFICATE_PATH=/cardano/keys/node.cert\nNETWORK=preprod\nAGGREGATOR_ENDPOINT=https://aggregator.release-preprod.api.mithril.network/aggregator\nRUN_INTERVAL=60000\nDB_DIRECTORY=/cardano/db\nCARDANO_NODE_SOCKET_PATH=/cardano/ipc/node.socket\nCARDANO_CLI_PATH=/app/bin/cardano-cli\nDATA_STORES_DIRECTORY=/opt/mithril/stores\nSTORE_RETENTION_LIMIT=5\nERA_READER_ADAPTER_TYPE=cardano-chain\nERA_READER_ADAPTER_PARAMS={"address": "addr_test1qpkyv2ws0deszm67t840sdnruqgr492n80g3y96xw3p2ksk6suj5musy6w8lsg3yjd09cnpgctc2qh386rtxphxt248qr0npnx", "verification_key": "5b35352c3232382c3134342c38372c3133382c3133362c34382c382c31342c3138372c38352c3134382c39372c3233322c3235352c3232392c33382c3234342c3234372c3230342c3139382c31332c33312c3232322c32352c3136342c35322c3130322c39312c3132302c3230382c3134375d"}\nRELAY_ENDPOINT=http://192.168.1.50:3132\nEOF\'\n'})})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["for ",(0,i.jsx)(n.strong,{children:"naive"})," deployment:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo bash -c 'cat > /opt/mithril/mithril-signer.env << EOF\nKES_SECRET_KEY_PATH=**YOUR_KES_SECRET_KEY_PATH**\nOPERATIONAL_CERTIFICATE_PATH=**YOUR_OPERATIONAL_CERTIFICATE_PATH**\nNETWORK=**YOUR_CARDANO_NETWORK**\nAGGREGATOR_ENDPOINT=**YOUR_AGGREGATOR_ENDPOINT**\nRUN_INTERVAL=60000\nDB_DIRECTORY=/cardano/db\nCARDANO_NODE_SOCKET_PATH=/cardano/ipc/node.socket\nCARDANO_CLI_PATH=/app/bin/cardano-cli\nDATA_STORES_DIRECTORY=/opt/mithril/stores\nSTORE_RETENTION_LIMIT=5\nERA_READER_ADAPTER_TYPE=**YOUR_ERA_READER_ADAPTER_TYPE**\nERA_READER_ADAPTER_PARAMS=**YOUR_ERA_READER_ADAPTER_PARAMS**\nEOF'\n"})}),"\n",(0,i.jsxs)(n.admonition,{type:"tip",children:[(0,i.jsxs)(n.p,{children:["Here is an example of the aforementioned command created with the example set for ",(0,i.jsx)(n.code,{children:"release-preprod"}),":"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'sudo bash -c \'cat > /opt/mithril/mithril-signer.env << EOF\nKES_SECRET_KEY_PATH=/cardano/keys/kes.skey\nOPERATIONAL_CERTIFICATE_PATH=/cardano/keys/node.cert\nNETWORK=preprod\nAGGREGATOR_ENDPOINT=https://aggregator.release-preprod.api.mithril.network/aggregator\nRUN_INTERVAL=60000\nDB_DIRECTORY=/cardano/db\nCARDANO_NODE_SOCKET_PATH=/cardano/ipc/node.socket\nCARDANO_CLI_PATH=/app/bin/cardano-cli\nDATA_STORES_DIRECTORY=/opt/mithril/stores\nSTORE_RETENTION_LIMIT=5\nERA_READER_ADAPTER_TYPE=cardano-chain\nERA_READER_ADAPTER_PARAMS={"address": "addr_test1qpkyv2ws0deszm67t840sdnruqgr492n80g3y96xw3p2ksk6suj5musy6w8lsg3yjd09cnpgctc2qh386rtxphxt248qr0npnx", "verification_key": "5b35352c3232382c3134342c38372c3133382c3133362c34382c382c31342c3138372c38352c3134382c39372c3233322c3235352c3232392c33382c3234342c3234372c3230342c3139382c31332c33312c3232322c32352c3136342c35322c3130322c39312c3132302c3230382c3134375d"}\nEOF\'\n'})})]}),"\n",(0,i.jsxs)(n.p,{children:["Then, create a ",(0,i.jsx)(n.code,{children:"/etc/systemd/system/mithril-signer.service"})," description file for the service:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo bash -c 'cat > /etc/systemd/system/mithril-signer.service << EOF\n[Unit]\nDescription=Mithril signer service\nStartLimitIntervalSec=0\n\n[Service]\nType=simple\nRestart=always\nRestartSec=60\nUser=cardano\nEnvironmentFile=/opt/mithril/mithril-signer.env\nExecStart=/opt/mithril/mithril-signer -vvv\n\n[Install]\nWantedBy=multi-user.target\nEOF'\n"})}),"\n",(0,i.jsx)(n.p,{children:"Reload the service configuration (optional):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo systemctl daemon-reload\n"})}),"\n",(0,i.jsx)(n.p,{children:"Then, start the service:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo systemctl start mithril-signer\n"})}),"\n",(0,i.jsx)(n.p,{children:"Register the service to start on boot:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo systemctl enable mithril-signer\n"})}),"\n",(0,i.jsx)(n.p,{children:"Monitor the status of the service:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"systemctl status mithril-signer.service\n"})}),"\n",(0,i.jsx)(n.p,{children:"Finally, monitor the logs of the service:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"tail -f /var/log/syslog | grep mithril-signer\n"})}),"\n",(0,i.jsx)(n.h3,{id:"activate-prometheus-endpoint",children:"Activate Prometheus endpoint"}),"\n",(0,i.jsx)(n.p,{children:"The Mithril signer node can expose basic metrics on a Prometheus endpoint, which is not activated by default."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Metrics"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"mithril_signer_signer_registration_success_since_startup"})}),(0,i.jsx)(n.td,{children:"Number of successful signer registrations since startup on a Mithril signer node"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"mithril_signer_signer_registration_total_since_startup"})}),(0,i.jsx)(n.td,{children:"Number of signer registrations since startup on a Mithril signer node"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"mithril_signer_signer_registration_success_last_epoch"})}),(0,i.jsx)(n.td,{children:"Latest epoch at which signer successfully registered on a Mithril signer node"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"mithril_signer_signature_registration_success_since_startup"})}),(0,i.jsx)(n.td,{children:"Number of successful signature registrations since startup on a Mithril signer node"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"mithril_signer_signature_registration_total_since_startup"})}),(0,i.jsx)(n.td,{children:"Number of signature registrations since startup on a Mithril signer node"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"mithril_signer_signature_registration_success_last_epoch"})}),(0,i.jsx)(n.td,{children:"Latest epoch at which signature successfully registered on a Mithril signer node"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"mithril_signer_runtime_cycle_success_since_startup"})}),(0,i.jsx)(n.td,{children:"Number of successful runtime cycles since startup on a Mithril signer node"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"mithril_signer_runtime_cycle_total_since_startup"})}),(0,i.jsx)(n.td,{children:"Number of runtime cycles since startup on a Mithril signer node"})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:["In order to expose metrics on the endpoint, you need to append the following environment variable to your environment file. In that case, the metrics server will listen on the ",(0,i.jsx)(n.code,{children:"9090"})," port:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo bash -c 'cat >> /opt/mithril/mithril-signer.env << EOF\nENABLE_METRICS_SERVER=true\nEOF`\n"})}),"\n",(0,i.jsx)(n.p,{children:"You can also specify custom listen IP address and port for the metrics server:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo bash -c 'cat >> /opt/mithril/mithril-signer.env << EOF\nENABLE_METRICS_SERVER=true\nMETRICS_SERVER_IP=**YOUR_METRICS_SERVER_IP**\nMETRICS_SERVER_PORT=**YOUR_METRICS_SERVER_PORT**\nEOF`\n"})}),"\n",(0,i.jsxs)(n.admonition,{type:"tip",children:[(0,i.jsx)(n.p,{children:"Here is an example that reproduces the default configuration for the prometheus server:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo bash -c 'cat >> /opt/mithril/mithril-signer.env << EOF\nENABLE_METRICS_SERVER=true\nMETRICS_SERVER_IP=0.0.0.0\nMETRICS_SERVER_PORT=9090\nEOF`\n"})})]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["When activated, the metrics endpoint will be accessible to the location ",(0,i.jsx)(n.code,{children:"http://**YOUR_METRICS_SERVER_IP**:**YOUR_METRICS_SERVER_PORT**/metrics"}),", which translates to ",(0,i.jsx)(n.a,{href:"http://0.0.0.0:9090/metrics",children:(0,i.jsx)(n.code,{children:"http://0.0.0.0:9090/metrics"})})," with the default configuration."]})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["Additionally, a ",(0,i.jsx)(n.strong,{children:"Grafana template"})," has been created to easily setup a dashboard for this Prometheus endpoint (ID 20776): ",(0,i.jsx)(n.a,{href:"https://grafana.com/grafana/dashboards/20776-mithril-signer/",children:"https://grafana.com/grafana/dashboards/20776-mithril-signer/"})]})}),"\n",(0,i.jsx)(n.h3,{id:"rotating-the-kes-keys",children:"Rotating the KES keys"}),"\n",(0,i.jsx)(n.admonition,{type:"danger",children:(0,i.jsx)(n.p,{children:"When the KES keys expire, the Mithril signer is unable to register with the Mithril protocol."})}),"\n",(0,i.jsx)(n.p,{children:"After rotating the KES keys on your Cardano block producer, we recommend following this upgrade procedure for your Mithril signer node:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Update the ",(0,i.jsx)(n.code,{children:"KES_SECRET_KEY_PATH"})," entry of your environment file to reflect the location of the ",(0,i.jsx)(n.strong,{children:"new KES secret key file"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Update the ",(0,i.jsx)(n.code,{children:"OPERATIONAL_CERTIFICATE_PATH"})," entry of your environment file to reflect the location of the ",(0,i.jsx)(n.strong,{children:"new operational certificate file"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Restart your Mithril signer service with the following command:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo systemctl restart mithril-signer\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"4",children:["\n",(0,i.jsxs)(n.li,{children:["Check the logs of your signer node and make sure that it has successfully registered after restarting (the following log should be displayed: ",(0,i.jsx)(n.code,{children:"STATE MACHINE: new cycle: Registered"}),")."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"set-up-the-mithril-relay-node",children:"Set up the Mithril relay node"}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["For ",(0,i.jsx)(n.strong,{children:"production"})," deployment, the setup of the ",(0,i.jsx)(n.strong,{children:"Mithril relay"})," is performed on the ",(0,i.jsx)(n.strong,{children:"Cardano relay"})," machine."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["For ",(0,i.jsx)(n.strong,{children:"naive"})," deployment: this step is not necessary."]}),"\n"]}),"\n"]})}),"\n",(0,i.jsx)(n.h3,{id:"building-squid-from-source",children:"Building Squid from source"}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["If you have already installed ",(0,i.jsx)(n.code,{children:"Squid"})," via ",(0,i.jsx)(n.code,{children:"apt"})," package manager, we recommend that you delete it before manually building it from source by running the following commands:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"sudo systemctl stop squid"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"sudo apt remove squid"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"sudo apt autoremove"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["The FAQ for compiling ",(0,i.jsx)(n.code,{children:"Squid"})," is available ",(0,i.jsx)(n.a,{href:"https://wiki.squid-cache.org/SquidFaq/CompilingSquid",children:"here"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["You will need a C++ compiler that can be installed with ",(0,i.jsx)(n.code,{children:"sudo apt install build-essential"})," command."]}),"\n"]}),"\n"]})}),"\n",(0,i.jsxs)(n.p,{children:["On the ",(0,i.jsx)(n.a,{href:"https://www.squid-cache.org/Versions/",children:"Squid page listing released versions"})," identify the latest stable released version (currently ",(0,i.jsx)(n.code,{children:"6.9"}),") and download it:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"wget https://www.squid-cache.org/Versions/v6/squid-6.9.tar.gz\n"})}),"\n",(0,i.jsx)(n.p,{children:"Uncompress the downloaded archive, and change directory:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"tar xzf squid-6.9.tar.gz\ncd squid-6.9\n"})}),"\n",(0,i.jsx)(n.p,{children:"Then, configure the compilation:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./configure \\\n    --prefix=/opt/squid \\\n    --localstatedir=/opt/squid/var \\\n    --libexecdir=/opt/squid/lib/squid \\\n    --datadir=/opt/squid/share/squid \\\n    --sysconfdir=/etc/squid \\\n    --with-default-user=squid \\\n    --with-logdir=/opt/squid/var/log/squid \\\n    --with-pidfile=/opt/squid/var/run/squid.pid\n"})}),"\n",(0,i.jsx)(n.p,{children:"Compile the sources:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"make\n"})}),"\n",(0,i.jsxs)(n.p,{children:["And install ",(0,i.jsx)(n.code,{children:"squid"})," binary:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo make install\n"})}),"\n",(0,i.jsx)(n.p,{children:"Optionally, verify that the version is correct:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"/opt/squid/sbin/squid -v\n"})}),"\n",(0,i.jsx)(n.p,{children:"You should see a result like this:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"Squid Cache: Version 6.9\nService Name: squid\nconfigure options:  '--prefix=/opt/squid' '--localstatedir=/opt/squid/var' '--libexecdir=/opt/squid/lib/squid' '--datadir=/opt/squid/share/squid' '--sysconfdir=/etc/squid' '--with-default-user=squid' '--with-logdir=/opt/squid/var/log/squid' '--with-pidfile=/opt/squid/var/run/squid.pid'\n"})}),"\n",(0,i.jsx)(n.h3,{id:"configuring-the-squid-proxy",children:"Configuring the Squid proxy"}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.strong,{children:"Mithril relay"})," node serves as a forward proxy, relaying traffic between the ",(0,i.jsx)(n.strong,{children:"Mithril signer"})," and the ",(0,i.jsx)(n.strong,{children:"Mithril aggregator"}),". When appropriately configured, it facilitates the security of the ",(0,i.jsx)(n.strong,{children:"block-producing"})," node. You can use ",(0,i.jsx)(n.code,{children:"squid"})," to operate this forward proxy, and this section presents a recommended configuration."]})}),"\n",(0,i.jsx)(n.p,{children:"Make a copy of the original configuration:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo cp /etc/squid/squid.conf /etc/squid/squid.conf.bak\n"})}),"\n",(0,i.jsx)(n.p,{children:"Prepare the forward proxy configuration file:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo bash -c 'cat > /etc/squid/squid.conf << EOF\n# Listening port (port 3132 is recommended)\nhttp_port **YOUR_RELAY_LISTENING_PORT**\n\n# ACL for internal IP of your block producer node\nacl block_producer_internal_ip src **YOUR_BLOCK_PRODUCER_INTERNAL_IP**\n\n# ACL for aggregator endpoint\nacl aggregator_domain dstdomain .mithril.network\n\n# ACL for SSL port only\nacl SSL_port port 443\n\n# Allowed traffic\nhttp_access allow block_producer_internal_ip aggregator_domain SSL_port\n\n# Do not disclose block producer internal IP\nforwarded_for delete\n\n# Turn off via header\nvia off\n\n# Deny request for original source of a request\nfollow_x_forwarded_for deny all\n\n# Anonymize request headers\nrequest_header_access Authorization allow all\nrequest_header_access Proxy-Authorization allow all\nrequest_header_access Cache-Control allow all\nrequest_header_access Content-Length allow all\nrequest_header_access Content-Type allow all\nrequest_header_access Date allow all\nrequest_header_access Host allow all\nrequest_header_access If-Modified-Since allow all\nrequest_header_access Pragma allow all\nrequest_header_access Accept allow all\nrequest_header_access Accept-Charset allow all\nrequest_header_access Accept-Encoding allow all\nrequest_header_access Accept-Language allow all\nrequest_header_access Connection allow all\nrequest_header_access All deny all\n\n# Disable cache\ncache deny all\n\n# Deny everything else\nhttp_access deny all\n\nEOF'\n"})}),"\n",(0,i.jsxs)(n.admonition,{type:"tip",children:[(0,i.jsxs)(n.p,{children:["Here is an example of the aforementioned command created with the example set for ",(0,i.jsx)(n.code,{children:"release-preprod"}),":"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo bash -c 'cat > /etc/squid/squid.conf << EOF\n# Listening port (port 3132 is recommended)\nhttp_port 3132\n\n# ACL for internal IP of your block producer node\nacl block_producer_internal_ip src 192.168.1.75\n\n# ACL for aggregator endpoint\nacl aggregator_domain dstdomain .mithril.network\n\n# ACL for SSL port only\nacl SSL_port port 443\n\n# Allowed traffic\nhttp_access allow block_producer_internal_ip aggregator_domain SSL_port\n\n# Do not disclose block producer internal IP\nforwarded_for delete\n\n# Turn off via header\nvia off\n\n# Deny request for original source of a request\nfollow_x_forwarded_for deny all\n\n# Anonymize request headers\nrequest_header_access Authorization allow all\nrequest_header_access Proxy-Authorization allow all\nrequest_header_access Cache-Control allow all\nrequest_header_access Content-Length allow all\nrequest_header_access Content-Type allow all\nrequest_header_access Date allow all\nrequest_header_access Host allow all\nrequest_header_access If-Modified-Since allow all\nrequest_header_access Pragma allow all\nrequest_header_access Accept allow all\nrequest_header_access Accept-Charset allow all\nrequest_header_access Accept-Encoding allow all\nrequest_header_access Accept-Language allow all\nrequest_header_access Connection allow all\nrequest_header_access All deny all\n\n# Disable cache\ncache deny all\n\n# Deny everything else\nhttp_access deny all\n\nEOF'\n"})})]}),"\n",(0,i.jsxs)(n.admonition,{type:"tip",children:[(0,i.jsx)(n.p,{children:"In case you are using the same Cardano relay for multiple Cardano block producers, you will need to add a new line per block producer for authorizing its internal IP:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# ACL for internal IP of your block producer node\nacl block_producer_internal_ip src **YOUR_BLOCK_PRODUCER_INTERNAL_IP_1**\nacl block_producer_internal_ip src **YOUR_BLOCK_PRODUCER_INTERNAL_IP_2**\nacl block_producer_internal_ip src **YOUR_BLOCK_PRODUCER_INTERNAL_IP_3**\n"})})]}),"\n",(0,i.jsx)(n.p,{children:"With this configuration, the proxy will:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"accept incoming traffic originating from the internal IP of the block-producing machine"}),"\n",(0,i.jsx)(n.li,{children:"accept incoming traffic directed to the listening port of the proxy"}),"\n",(0,i.jsxs)(n.li,{children:["accept incoming HTTPS traffic proxied to ",(0,i.jsx)(n.code,{children:"mithril.network"})," domain hosts"]}),"\n",(0,i.jsx)(n.li,{children:"anonymize completely the traffic and avoid disclosing any information about the block-producing machine"}),"\n",(0,i.jsx)(n.li,{children:"deny all other traffic"}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"info"}),"\n",(0,i.jsx)(n.h3,{id:"installing-the-service-1",children:"Installing the service"}),"\n",(0,i.jsx)(n.p,{children:"Create (or re-use) an unpriviledged system user on the machine:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo adduser --system --no-create-home --group squid\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Change ownership of ",(0,i.jsx)(n.code,{children:"/opt/squid/var"})," directory:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo chown squid -R /opt/squid/var/\nsudo chgrp squid -R /opt/squid/var/\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Create a ",(0,i.jsx)(n.code,{children:"/etc/systemd/system/squid.service"})," description file for the service:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo bash -c 'cat > /etc/systemd/system/squid.service << EOF\n[Unit]\nDescription=Squid service\nStartLimitIntervalSec=0\n\n[Service]\nType=simple\nRestart=always\nRestartSec=60\nUser=squid\nGroup=squid\nExecStart=/opt/squid/sbin/squid -f /etc/squid/squid.conf -d5\nPIDFile=/opt/squid/var/run/squid.pid\n\n[Install]\nWantedBy=multi-user.target\nEOF'\n"})}),"\n",(0,i.jsx)(n.p,{children:"Reload the service configuration (optional):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo systemctl daemon-reload\n"})}),"\n",(0,i.jsx)(n.p,{children:"Then, start the service:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo systemctl start squid\n"})}),"\n",(0,i.jsx)(n.p,{children:"Register the service to start on boot:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo systemctl enable squid\n"})}),"\n",(0,i.jsx)(n.p,{children:"Monitor the status of the service:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"systemctl status squid\n"})}),"\n",(0,i.jsx)(n.p,{children:"Finally, monitor the logs of the service:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"tail -f /var/log/syslog | grep squid\n"})}),"\n",(0,i.jsx)(n.p,{children:"And monitor squid access logs:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo tail -f /opt/squid/var/log/squid/access.log\n"})}),"\n",(0,i.jsxs)(n.admonition,{type:"tip",children:[(0,i.jsxs)(n.p,{children:["If your ",(0,i.jsx)(n.strong,{children:"Squid service"})," does not start properly and you have the error message ",(0,i.jsx)(n.code,{children:"FATAL: /dev/null (13) Permission denied"})," in the logs of the service, it means that some permissions need to be fixed following the creation of the new ",(0,i.jsx)(n.code,{children:"squid"})," user by running the following commands:"]}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"sudo chmod 666 /dev/null"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"sudo systemctl restart squid"})}),"\n"]})]}),"\n",(0,i.jsx)(n.h3,{id:"firewall-configuration",children:"Firewall configuration"}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["We assume that the ",(0,i.jsx)(n.strong,{children:"Cardano relay"})," machine is protected by a firewall. It is necessary to allow the proxied traffic, originating from the ",(0,i.jsx)(n.strong,{children:"Cardano block producer"}),", through this firewall."]})}),"\n",(0,i.jsx)(n.h4,{id:"about-the-cardano-relay-machine",children:"About the Cardano relay machine"}),"\n",(0,i.jsxs)(n.p,{children:["You need to allow incoming traffic on the listening port of the ",(0,i.jsx)(n.strong,{children:"Mithril relay"})," on the ",(0,i.jsx)(n.strong,{children:"Cardano relay"})," machine, originating from the ",(0,i.jsx)(n.strong,{children:"Cardano block producer"})," machine."]}),"\n",(0,i.jsxs)(n.p,{children:["Assuming you are using ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Uncomplicated_Firewall",children:(0,i.jsx)(n.code,{children:"Uncomplicated Firewall"})})," (",(0,i.jsx)(n.code,{children:"0.36+"}),"), the command to open that traffic is:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo ufw allow from **YOUR_BLOCK_PRODUCER_INTERNAL_IP** to any port **YOUR_RELAY_LISTENING_PORT** proto tcp\n"})}),"\n",(0,i.jsxs)(n.admonition,{type:"tip",children:[(0,i.jsxs)(n.p,{children:["Here is an example of the aforementioned command created with the example set for ",(0,i.jsx)(n.code,{children:"release-preprod"}),":"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo ufw allow from 192.168.1.75 to any port 3132 proto tcp\n"})})]}),"\n",(0,i.jsxs)(n.p,{children:["Assuming you are using ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Iptables",children:(0,i.jsx)(n.code,{children:"Iptables"})})," (",(0,i.jsx)(n.code,{children:"1.8.7+"}),"), the command to open that traffic is:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo iptables -A INPUT -s **YOUR_BLOCK_PRODUCER_INTERNAL_IP** -p tcp --dport **YOUR_RELAY_LISTENING_PORT** -j ACCEPT\nsudo iptables -L -v\nsudo service netfilter-persistent save\n"})}),"\n",(0,i.jsxs)(n.admonition,{type:"tip",children:[(0,i.jsxs)(n.p,{children:["Here is an example of the aforementioned command created with the example set for ",(0,i.jsx)(n.code,{children:"release-preprod"}),":"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo iptables -A INPUT -s 192.168.1.75 -p tcp --dport 3132 -j ACCEPT\nsudo iptables -L -v\nsudo service netfilter-persistent save\n"})})]}),"\n",(0,i.jsx)(n.h2,{id:"verify-the-mithril-signer-deployment",children:"Verify the Mithril signer deployment"}),"\n",(0,i.jsxs)(n.admonition,{type:"tip",children:[(0,i.jsxs)(n.p,{children:["There is a delay of ",(0,i.jsx)(n.code,{children:"2"})," epochs between the registration of the signer node and its ability to generate individual signatures. This delay is further explained in the ",(0,i.jsx)(n.a,{href:"https://mithril.network/doc/mithril/mithril-protocol/certificates",children:"Mithril certificate chain in depth"})," documentation."]}),(0,i.jsxs)(n.p,{children:["Once this delay has passed, you should be able to observe your ",(0,i.jsx)(n.code,{children:"PoolId"})," listed in some of the certificates accessible on the ",(0,i.jsx)(n.a,{href:"https://mithril.network/explorer",children:(0,i.jsx)(n.code,{children:"Mithril Explorer"})}),"."]})]}),"\n",(0,i.jsx)(n.h3,{id:"verify-your-signer-is-registered",children:"Verify your signer is registered"}),"\n",(0,i.jsx)(n.p,{children:"After installing the Mithril signer, you can verify that your node is registered by checking your Mithril signer node logs."}),"\n",(0,i.jsx)(n.p,{children:"First, download the script into the desired directory:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"wget https://mithril.network/doc/scripts/verify_signer_registration.sh\n"})}),"\n",(0,i.jsx)(n.p,{children:"Make the script executable:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"chmod +x verify_signer_registration.sh\n"})}),"\n",(0,i.jsx)(n.p,{children:"Finally, execute the script:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"PARTY_ID=**YOUR_PARTY_ID** AGGREGATOR_ENDPOINT=**YOUR_AGGREGATOR_ENDPOINT** ./verify_signer_registration.sh\n"})}),"\n",(0,i.jsxs)(n.admonition,{type:"tip",children:[(0,i.jsx)(n.p,{children:"Here is an example command:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"PARTY_ID=pool1hp72sauk0g0yqm4dzllz0pz6j93gewhllkzphn4hykkfmne43y AGGREGATOR_ENDPOINT=https://aggregator.release-preprod.api.mithril.network/aggregator ./verify_signer_registration.sh\n"})})]}),"\n",(0,i.jsx)(n.p,{children:"If your signer is registered, you should see this message:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:">> Congrats, your signer node is registered!\n"})}),"\n",(0,i.jsx)(n.p,{children:"Otherwise, you should see this error message:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:">> Oops, your signer node is not registered. Party ID not found among the signers registered at epoch 430.\n"})}),"\n",(0,i.jsx)(n.h3,{id:"verify-your-signer-contributes-with-individual-signatures",children:"Verify your signer contributes with individual signatures"}),"\n",(0,i.jsx)(n.p,{children:"After waiting for two epochs, you will be able to verify that your signer is contributing with individual signatures."}),"\n",(0,i.jsx)(n.p,{children:"First, download the script into the desired directory:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"wget https://mithril.network/doc/scripts/verify_signer_signature.sh\n"})}),"\n",(0,i.jsx)(n.p,{children:"Make the script executable:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"chmod +x verify_signer_signature.sh\n"})}),"\n",(0,i.jsx)(n.p,{children:"Finally, execute the script:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"PARTY_ID=**YOUR_PARTY_ID** AGGREGATOR_ENDPOINT=**YOUR_AGGREGATOR_ENDPOINT** ./verify_signer_signature.sh\n"})}),"\n",(0,i.jsxs)(n.admonition,{type:"tip",children:[(0,i.jsxs)(n.p,{children:["Here is an example of the aforementioned command created with the example set for ",(0,i.jsx)(n.code,{children:"release-preprod"}),":"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"PARTY_ID=pool1hp72sauk0g0yqm4dzllz0pz6j93gewhllkzphn4hykkfmne43y AGGREGATOR_ENDPOINT=https://aggregator.release-preprod.api.mithril.network/aggregator ./verify_signer_signature.sh\n"})})]}),"\n",(0,i.jsx)(n.p,{children:"If your signer is contributing, you should see this message:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:">> Congrats, you have signed this certificate: https://aggregator.release-preprod.api.mithril.network/aggregator/certificate/el3p289b03a223244285b2ls10839846ae7a69f1e8362824a383f376f93f723f !\n"})}),"\n",(0,i.jsx)(n.p,{children:"Otherwise, you should see this error message:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:">> Oops, your party id was not found in the last 20 certificates. Please try again later.\n"})})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},45340:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>p,frontMatter:()=>o,metadata:()=>a,toc:()=>h});var i=r(74848),t=r(28453),s=r(11470),l=r(19365);const o={unlisted:!0,hide_title:!0,hide_table_of_contents:!0},d=void 0,a={id:"networks-matrix",title:"networks-matrix",description:"Here is an updated list of all Mithril networks, including their configurations and current statuses:",source:"@site/versioned_docs/version-maintained/networks-matrix.md",sourceDirName:".",slug:"/networks-matrix",permalink:"/doc/networks-matrix",draft:!1,unlisted:!0,editUrl:"https://github.com/input-output-hk/mithril/edit/main/docs/website/root/networks-matrix.md",tags:[],version:"maintained",frontMatter:{unlisted:!0,hide_title:!0,hide_table_of_contents:!0}},c={},h=[{value:"<code>release-mainnet</code>",id:"release-mainnet",level:2},{value:"<code>release-preprod</code>",id:"release-preprod",level:2},{value:"<code>pre-release-preview</code>",id:"pre-release-preview",level:2},{value:"<code>testing-preview</code>",id:"testing-preview",level:2},{value:"<code>testing-sanchonet</code>",id:"testing-sanchonet",level:2}];function u(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Here is an updated list of all ",(0,i.jsx)(n.strong,{children:"Mithril networks"}),", including their configurations and current statuses:"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Last update: 07/21/2023"}),"\n"]}),"\n",(0,i.jsxs)(s.A,{children:[(0,i.jsxs)(l.A,{value:"mainnet",label:"Mainnet",default:!0,children:[(0,i.jsx)(n.h2,{id:"release-mainnet",children:(0,i.jsx)(n.code,{children:"release-mainnet"})}),(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Information"}),(0,i.jsx)(n.th,{children:"-"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Mithril network"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"release-mainnet"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Cardano network"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"mainnet"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Cardano magic Id"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Supported"})}),(0,i.jsxs)(n.td,{children:["Yes ","\u2714\ufe0f"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Status"})}),(0,i.jsx)(n.td,{children:"Beta \ud83d\udfe2"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Aggregator endpoint"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"https://aggregator.release-mainnet.api.mithril.network/aggregator"})," ",(0,i.jsx)(n.a,{href:"https://aggregator.release-mainnet.api.mithril.network/aggregator",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Genesis verification key"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/release-mainnet/genesis.vkey"})," ",(0,i.jsx)(n.a,{href:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/release-mainnet/genesis.vkey",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Era reader adapter type"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"cardano-chain"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Era reader address"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/release-mainnet/era.addr"})," ",(0,i.jsx)(n.a,{href:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/release-mainnet/era.addr",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Era reader verification key"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/release-mainnet/era.vkey"})," ",(0,i.jsx)(n.a,{href:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/release-mainnet/era.vkey",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Build from"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.strong,{children:"Latest release"})," ",(0,i.jsx)(n.a,{href:"https://github.com/input-output-hk/mithril/releases/latest",children:"\u2197\ufe0f"})]})]})]})]})]}),(0,i.jsxs)(l.A,{value:"preprod",label:"Preprod",children:[(0,i.jsx)(n.h2,{id:"release-preprod",children:(0,i.jsx)(n.code,{children:"release-preprod"})}),(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Information"}),(0,i.jsx)(n.th,{children:"-"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Mithril network"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"release-preprod"})," ",(0,i.jsx)(n.a,{href:"https://mithril.network/explorer?aggregator=https%3A%2F%2Faggregator.release-preprod.api.mithril.network%2Faggregator",children:"\ud83d\udd0e"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Cardano network"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"preprod"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Cardano magic Id"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"1"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Supported"})}),(0,i.jsxs)(n.td,{children:["Yes ","\u2714\ufe0f"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Status"})}),(0,i.jsx)(n.td,{children:"Release \ud83d\udfe2"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Aggregator endpoint"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"https://aggregator.release-preprod.api.mithril.network/aggregator"})," ",(0,i.jsx)(n.a,{href:"https://aggregator.release-preprod.api.mithril.network/aggregator",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Genesis verification key"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/release-preprod/genesis.vkey"})," ",(0,i.jsx)(n.a,{href:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/release-preprod/genesis.vkey",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Era reader adapter type"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"cardano-chain"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Era reader address"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/release-preprod/era.addr"})," ",(0,i.jsx)(n.a,{href:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/release-preprod/era.addr",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Era reader verification key"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/release-preprod/era.vkey"})," ",(0,i.jsx)(n.a,{href:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/release-preprod/era.vkey",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Build from"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.strong,{children:"Latest release"})," ",(0,i.jsx)(n.a,{href:"https://github.com/input-output-hk/mithril/releases/latest",children:"\u2197\ufe0f"})]})]})]})]})]}),(0,i.jsxs)(l.A,{value:"preview",label:"Preview",children:[(0,i.jsx)(n.h2,{id:"pre-release-preview",children:(0,i.jsx)(n.code,{children:"pre-release-preview"})}),(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Information"}),(0,i.jsx)(n.th,{children:"-"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Mithril network"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"pre-release-preview"})," ",(0,i.jsx)(n.a,{href:"https://mithril.network/explorer?aggregator=https%3A%2F%2Faggregator.pre-release-preview.api.mithril.network%2Faggregator",children:"\ud83d\udd0e"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Cardano network"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"preview"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Cardano magic Id"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"2"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Supported"})}),(0,i.jsxs)(n.td,{children:["Yes ","\u2714\ufe0f"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Status"})}),(0,i.jsx)(n.td,{children:"Pre-release \ud83d\udfe0"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Aggregator endpoint"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"https://aggregator.pre-release-preview.api.mithril.network/aggregator"})," ",(0,i.jsx)(n.a,{href:"https://aggregator.pre-release-preview.api.mithril.network/aggregator",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Genesis verification key"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/pre-release-preview/genesis.vkey"})," ",(0,i.jsx)(n.a,{href:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/pre-release-preview/genesis.vkey",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Era reader adapter type"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"cardano-chain"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Era reader address"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/pre-release-preview/era.addr"})," ",(0,i.jsx)(n.a,{href:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/pre-release-preview/era.addr",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Era reader verification key"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/pre-release-preview/era.vkey"})," ",(0,i.jsx)(n.a,{href:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/pre-release-preview/era.vkey",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Build from"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.strong,{children:"Latest pre-release"})," ",(0,i.jsx)(n.a,{href:"https://github.com/input-output-hk/mithril/releases?q=pre",children:"\u2197\ufe0f"})]})]})]})]}),(0,i.jsx)("br",{}),(0,i.jsx)(n.h2,{id:"testing-preview",children:(0,i.jsx)(n.code,{children:"testing-preview"})}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["\u26a0\ufe0f"," For developers only"]}),"\n"]}),(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Information"}),(0,i.jsx)(n.th,{children:"-"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Mithril network"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"testing-preview"})," ",(0,i.jsx)(n.a,{href:"https://mithril.network/explorer?aggregator=https%3A%2F%2Faggregator.testing-preview.api.mithril.network%2Faggregator",children:"\ud83d\udd0e"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Cardano network"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"preview"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Cardano magic Id"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"2"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Supported"})}),(0,i.jsxs)(n.td,{children:["Yes ","\u2714\ufe0f"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Status"})}),(0,i.jsx)(n.td,{children:"Unstable \ud83d\udd34"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Aggregator endpoint"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"https://aggregator.testing-preview.api.mithril.network/aggregator"})," ",(0,i.jsx)(n.a,{href:"https://aggregator.testing-preview.api.mithril.network/aggregator",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Genesis verification key"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/testing-preview/genesis.vkey"})," ",(0,i.jsx)(n.a,{href:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/testing-preview/genesis.vkey",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Era reader adapter type"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"cardano-chain"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Era reader address"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/testing-preview/era.addr"})," ",(0,i.jsx)(n.a,{href:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/testing-preview/era.addr",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Era reader verification key"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/testing-preview/era.vkey"})," ",(0,i.jsx)(n.a,{href:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/testing-preview/era.vkey",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Build from"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.strong,{children:"Main branch"})," ",(0,i.jsx)(n.a,{href:"https://github.com/input-output-hk/mithril/tree/main",children:"\u2197\ufe0f"})]})]})]})]})]}),(0,i.jsxs)(l.A,{value:"sanchonet",label:"Sanchonet",children:[(0,i.jsx)(n.h2,{id:"testing-sanchonet",children:(0,i.jsx)(n.code,{children:"testing-sanchonet"})}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["\u26a0\ufe0f"," For developers only"]}),"\n"]}),(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Information"}),(0,i.jsx)(n.th,{children:"-"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Mithril network"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"testing-sanchonet"})," ",(0,i.jsx)(n.a,{href:"https://mithril.network/explorer?aggregator=https%3A%2F%2Faggregator.testing-sanchonet.api.mithril.network%2Faggregator",children:"\ud83d\udd0e"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Cardano network"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"sanchonet"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Cardano magic Id"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"4"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Supported"})}),(0,i.jsxs)(n.td,{children:["Yes ","\u2714\ufe0f"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Status"})}),(0,i.jsx)(n.td,{children:"Unstable \ud83d\udd34"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Aggregator endpoint"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"https://aggregator.testing-sanchonet.api.mithril.network/aggregator"})," ",(0,i.jsx)(n.a,{href:"https://aggregator.testing-sanchonet.api.mithril.network/aggregator",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Genesis verification key"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/testing-sanchonet/genesis.vkey"})," ",(0,i.jsx)(n.a,{href:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/testing-sanchonet/genesis.vkey",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Era reader adapter type"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"cardano-chain"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Era reader address"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/testing-sanchonet/era.addr"})," ",(0,i.jsx)(n.a,{href:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/testing-sanchonet/era.addr",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Era reader verification key"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/testing-sanchonet/era.vkey"})," ",(0,i.jsx)(n.a,{href:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/testing-sanchonet/era.vkey",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Build from"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.strong,{children:"Main branch"})," ",(0,i.jsx)(n.a,{href:"https://github.com/input-output-hk/mithril/tree/main",children:"\u2197\ufe0f"})]})]})]})]})]})]}),"\n",(0,i.jsxs)(n.admonition,{type:"caution",children:[(0,i.jsx)(n.p,{children:"In this documentation, we use the following generic identifiers:"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"YOUR_CARDANO_NETWORK"})," You need to replace this with the name of the network that runs on your Cardano node (eg, ",(0,i.jsx)(n.code,{children:"preprod"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"YOUR_AGGREGATOR_ENDPOINT"})," You need to replace this with the endpoint of an aggregator that runs on the Cardano network you are targeting (eg, ",(0,i.jsx)(n.code,{children:"https://aggregator.release-preprod.api.mithril.network/aggregator"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"YOUR_GENESIS_VERIFICATION_KEY"})," You need to replace this with the genesis verification key URL that runs on the Cardano network you are targeting (eg, ",(0,i.jsx)(n.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/release-preprod/genesis.vkey"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"YOUR_ERA_READER_ADAPTER_TYPE"})," You need to replace this with the era reader adapter type used by the Mithril network you are targeting (eg, ",(0,i.jsx)(n.code,{children:"cardano-chain"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"YOUR_ERA_READER_ADDRESS"})," You need to replace this with the era reader address URL used by the Mithril network you are targeting (eg, ",(0,i.jsx)(n.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/address.addr"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"YOUR_ERA_READER_VERIFICATION_KEY"})," You need to replace this with the era reader verification key URL used by the Mithril network you are targeting (eg, ",(0,i.jsx)(n.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/TEST_ONLY_era.vkey"}),")"]}),"\n"]})]})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},19365:(e,n,r)=>{r.d(n,{A:()=>l});r(96540);var i=r(34164);const t={tabItem:"tabItem_Ymn6"};var s=r(74848);function l(e){let{children:n,hidden:r,className:l}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,i.A)(t.tabItem,l),hidden:r,children:n})}},11470:(e,n,r)=>{r.d(n,{A:()=>v});var i=r(96540),t=r(34164),s=r(23104),l=r(56347),o=r(205),d=r(57485),a=r(31682),c=r(70679);function h(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:n,children:r}=e;return(0,i.useMemo)((()=>{const e=n??function(e){return h(e).map((e=>{let{props:{value:n,label:r,attributes:i,default:t}}=e;return{value:n,label:r,attributes:i,default:t}}))}(r);return function(e){const n=(0,a.X)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,r])}function p(e){let{value:n,tabValues:r}=e;return r.some((e=>e.value===n))}function x(e){let{queryString:n=!1,groupId:r}=e;const t=(0,l.W6)(),s=function(e){let{queryString:n=!1,groupId:r}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:n,groupId:r});return[(0,d.aZ)(s),(0,i.useCallback)((e=>{if(!s)return;const n=new URLSearchParams(t.location.search);n.set(s,e),t.replace({...t.location,search:n.toString()})}),[s,t])]}function g(e){const{defaultValue:n,queryString:r=!1,groupId:t}=e,s=u(e),[l,d]=(0,i.useState)((()=>function(e){let{defaultValue:n,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const i=r.find((e=>e.default))??r[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:n,tabValues:s}))),[a,h]=x({queryString:r,groupId:t}),[g,j]=function(e){let{groupId:n}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(n),[t,s]=(0,c.Dv)(r);return[t,(0,i.useCallback)((e=>{r&&s.set(e)}),[r,s])]}({groupId:t}),m=(()=>{const e=a??g;return p({value:e,tabValues:s})?e:null})();(0,o.A)((()=>{m&&d(m)}),[m]);return{selectedValue:l,selectValue:(0,i.useCallback)((e=>{if(!p({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);d(e),h(e),j(e)}),[h,j,s]),tabValues:s}}var j=r(92303);const m={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var f=r(74848);function _(e){let{className:n,block:r,selectedValue:i,selectValue:l,tabValues:o}=e;const d=[],{blockElementScrollPositionUntilNextRender:a}=(0,s.a_)(),c=e=>{const n=e.currentTarget,r=d.indexOf(n),t=o[r].value;t!==i&&(a(n),l(t))},h=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const r=d.indexOf(e.currentTarget)+1;n=d[r]??d[0];break}case"ArrowLeft":{const r=d.indexOf(e.currentTarget)-1;n=d[r]??d[d.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.A)("tabs",{"tabs--block":r},n),children:o.map((e=>{let{value:n,label:r,attributes:s}=e;return(0,f.jsx)("li",{role:"tab",tabIndex:i===n?0:-1,"aria-selected":i===n,ref:e=>d.push(e),onKeyDown:h,onClick:c,...s,className:(0,t.A)("tabs__item",m.tabItem,s?.className,{"tabs__item--active":i===n}),children:r??n},n)}))})}function y(e){let{lazy:n,children:r,selectedValue:t}=e;const s=(Array.isArray(r)?r:[r]).filter(Boolean);if(n){const e=s.find((e=>e.props.value===t));return e?(0,i.cloneElement)(e,{className:"margin-top--md"}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:s.map(((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==t})))})}function b(e){const n=g(e);return(0,f.jsxs)("div",{className:(0,t.A)("tabs-container",m.tabList),children:[(0,f.jsx)(_,{...n,...e}),(0,f.jsx)(y,{...n,...e})]})}function v(e){const n=(0,j.A)();return(0,f.jsx)(b,{...e,children:h(e.children)},String(n))}},35441:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/files/signer-deployment-naive-6f2cc44fb5738b30cc3b5c370042845a.jpg"},9085:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/files/signer-deployment-production-691bb17c165b4da09c46222bc71c06ac.jpg"},59517:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/signer-deployment-naive-6f2cc44fb5738b30cc3b5c370042845a.jpg"},1993:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/signer-deployment-production-691bb17c165b4da09c46222bc71c06ac.jpg"},28453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>o});var i=r(96540);const t={},s=i.createContext(t);function l(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);